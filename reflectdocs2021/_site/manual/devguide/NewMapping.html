<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
  
  <meta name="robots" content="noindex">
  
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],   j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');</script>
  
  
  <script>
  $(document).ready(function(){
    $('#component-select-current-display').click(function(){
        $('#component-select-current-display').toggleClass('component-select__current--is-active');
    });
    $(document).click(function(e){
        if (!(e.target.id == 'component-select-current-display'))
            $('#component-select-current-display').removeClass('component-select__current--is-active');
    });
     });
  </script>
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
  
    <title>Adding a new input mapping | Unity Reflect | 2.0 </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Adding a new input mapping | Unity Reflect | 2.0 ">
    <meta name="generator" content="docfx 2.45.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/version-switcher.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    <meta property="unity:packageTitle" content="Unity Reflect | 2.0">
    <meta property="docfx:rel" content="../../">
    
  
  </head>
  <body data-spy="scroll" data-target="#affix" class="manual">
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
        
        		<div class="back-to-unity-group">
        			<a class="back-to-unity" href="http://docs.unity3d.com/">docs.unity3d.com</a>
        		</div>
        
              </form>
            </div>
          </div>
        </nav>
        <div class="subnav navbar navbar-default">
        <div class="container hide-when-search" id="breadcrumb">
          <div id="version-switcher-select">
        <div class="component-select" onclick="onVersionSwitcherClick()">
        <div id="component-select-current-display" class="component-select__current">
        Unity Reflect 2.0
        </div>
        
        <ul id="version-switcher-ul" class="component-select__options-container">
        <a style="color:#000;" href="https://docs.unity3d.com/reflect/1.3/manual/index.html"><li class="component-select__option">
                    1.3
                </li></a>
        <a style="color:#000;" href="https://docs.unity3d.com/reflect/1.2/manual/index.html"><li class="component-select__option">
                    1.2
                </li></a>
        <a style="color:#000;" href="https://docs.unity3d.com/reflect/1.1/manual/index.html"><li class="component-select__option">
                    1.1
                </li></a>
                <a style="color:#000;" href="https://docs.unity3d.com/reflect/1.0/manual/index.html"><li class="component-select__option">
                            1.0
                        </li></a>
        
        
                </ul>
        </div>
        </div></div>
      </div></header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items"></div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10" id="main_content">
          <div id="breadcrumb_placeholder"></div>
            <article class="content wrap" id="_content" data-uid="">
<h1 id="adding-a-new-input-mapping">Adding a new input mapping</h1>

<p>Sometimes users will need to change or add new Input Mappings. In this document, we will show how we add a new mapping. The viewer uses Unity’s new Input System.</p>
<h2 id="adding-a-quick-pan-mapping">Adding a Quick Pan Mapping</h2>
<p>It was requested that the middle mouse button in the viewer be mapped to a PAN action.</p>
<h3 id="opening-the-input-action-editor">Opening the Input Action Editor</h3>
<p>Go to Assets/Settings and double-click on the UnityEditorMapping:</p>
<p><img src="../images/1.3/Input1.png" alt="Input"></p>
<p>This opens the Input Action Editor.</p>
<p><img src="../images/1.3/Input2.png" alt="Input"></p>
<h3 id="adding-a-new-quick-pan-action">Adding a new Quick Pan Action</h3>
<p>We see the similar Quick Zoom Action which is mapped to the scroll wheel. We will add a new Action by pressing <strong>+</strong> next to the Actions header.</p>
<p>Rename it to <strong>Quick Pan Action</strong>.</p>
<p>Select the <no binding=""> Right-Click and delete binding.<p>
<p>On the right hand side, in the Action Type dropdown, select Value”, and Control Type “Vector 2”, then click the “+” next to the Quick Pan Action header, this will let you choose a new “Mouse Drag Composite”.</p>
<p>Now, configure the Mouse Drag:</p>
<pre><code>Select Mouse/Middle Button
Select Axis 1/Delta/X
Select Axis 2/Delta/Y
</code></pre><p>We also need to scale the Delta/X/Y values. Click on the Mouse Drag line, and press on “+” next to Processors on the right-hand side. Pick “Scale”. Enter 0.003 for both X, Y values.</p>
<p>Your entry should look like this:</p>
<p><img src="../images/1.3/Input3.png" alt="Input"></p>
<blockquote><blockquote><p><strong>Note:</strong> Don&#39;t forget to press <strong>Save Asset</strong>.  </p>
</blockquote>
</blockquote>
<h3 id="coding-the-new-action-callback">Coding the New Action Callback</h3>
<p>Now you need to add the code for this new action:</p>
<p>Open UINavigationController.cs, and go to the Awake() method.</p>
<p><img src="../images/1.3/Input4.png" alt="Input"></p>
<p>You will need to add this line:</p>
<p>m_InputActionAsset[&quot;Quick Pan Action&quot;].performed += OnQuickPan;</p>
<p>And implement the OnQuickPan() callback. You can look at the OnQuickZoom() method as an example.</p>
<pre><code>private void OnQuickPan(InputAction.CallbackContext context)
{
        StopCoroutine(&quot;DelayEndQuickTool&quot; );
        StartCoroutine(&quot;DelayEndQuickTool&quot;, new QuickToolData()
{
delay = k_ToolDebounceTime,
toolType = ToolType.PanTool
});

     var delta = context.ReadValue&lt;Vector2&gt;();
     Pan(delta);
}
</code></pre><h3 id="compile-and-run">Compile and Run</h3>
<p>Compile and Run and try your new Action Mapping. You should see the Toolbar on the right look like this, and be able to PAN when you press the middle mouse button and move the mouse around.</p>
<p><img src="../images/1.3/Input5.png" alt="Input"></p>
</no></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Copyright © 2020 Unity Technologies<br>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    <script type="text/javascript" src="../../styles/metadata-collector.js"></script>
    <script type="text/javascript" src="../../styles/version-switcher.js"></script>
  </div></body>
</html>
